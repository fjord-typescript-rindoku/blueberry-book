# 【第7週】ブルーベリー本輪読会🫐🫐<br />(2022-06-25)



###### tags: `ブルーベリー本`

- [開催概要](https://hackmd.io/1kCgi6_tSGukG0KZrqDLvA)
- [ブルーベリー本輪読会ノートまとめ](https://hackmd.io/Ih6bdReuR3eQpYkGaCx8pg)
- [プロを目指す人のためのTypeScript入門-サポートページ](https://gihyo.jp/book/2022/978-4-297-12747-3/support)（正誤表・サンプルコードのダウンロードページ）

---
## 2022-06-25（土）

### タイムスケジュール
- 雑談(5min) ~9:05
- 輪読(40min) ~9:45
- 前半の記入(5min) ~9:50
- 休憩(10min) ~10:00
- 輪読(45min) 前半での疑問の解消含む ~10:45
- まとめ(15min) ~ 11:00

### 進行係
- 前半
    - @yanagi
- 後半
    - @haruguchi
### ドライバー
- 前半
    - @mae-da 
- 後半
    - @SatoshiHaramura

### 読んだところ
- p.85 「3.2 オブジェクトの型」から
### 次回

### 自由に使う共有スペース

> TypeScript は構造で比較するので型の名前が違ってもコンパイルは通る(型名の違いでコンパイルエラーにはならない)ので注意 🐈 
```typescript=
type UserId = number
type CompanyId = number

const userId: UserId = 1
const findByCompanyId = (companyId: CompanyId) => {
  return [1, 2, 3].find((id) => id === companyId)
}
findByCompanyId(userId) // コンパイルエラーにならない
```

### わからなかったこと・疑問など

- JSには型という概念はありません。静的型と動的型の件🤔
    - ？
    - `typeof` 演算子とかあるので、型という概念があるのでは？

- Type alias と Interface　の流派の違い(梅本さんはどっち派？)
    - type で書いています。interface はあとから再定義というか拡張できたはず？ the typescript handbook にはどちらを使ってもよいと書いてあります。

-

### 各自の疑問点や気づき、学んだこと

- @haruguchi-yuma
    - オブジェクト型の型注釈を書くことで（もしくは推論されて）
        - プロパティの値が正しい型かどうかチェックしてくれる
        - 存在しないプロパティにアクセスしてないかチェックしてくれる
        - 代入時に型があっているかチェックしてくれる
        - プロパティが過不足ないかチェックしてくれる
    - typeof は変数から型の情報を抽出することができる
    - なにが最上位の事実かによってtypeofを使うかどうか決まる
        - 型→値 ほとんどはこっち
        - 値→型　typeofの使い所
- @paru871 
    - オブジェクト型の構文は、`プロパティ名: 型;`という宣言を{ }の中に並べる
    - 宣言された方のプロパティをすべて持つオブジェクト、という意味
    - 型が示す条件に合わないオブジェクトを変数に入れようとするとコンパイルエラーが発生する
        - このチェックのおかげで変数がオブジェクト型を持っている場合は、その型とおりのオブジェクトが変数に入っていることがわかる
    - type文は型に別名をつける←よく使う！
        - interface宣言←最近はあまり使われない様子
    - インデックスシグネチャはどんな名前のプロパティでも受け入れる、しかし型安全性を破壊するので使用には注意が必要
        - Mapオブジェクト(型安全)を使うのがおすすめらしい(3.7.4で学ぶ)
    - オプショナルなプロパティの宣言、使う使わないが自由なプロパティを設定できる(型の宣言時にプロパティ名の後ろに?をつける)
    - typeofには2種類ある(TS・JSどちらの機能なのかを切り分けて理解していきたい)

- @mae-da 
	- type文で作成した型名は新たに型を作っているのではないことに注意
	- type派とinterface派が存在する
		- 森塚さんはtype派
		- どちらが良いとかのイメージがついてない
	- インデックスシグネチャ → 「任意のプロパティ名を許容する型」のこと
		- メモ：罠について理解できてない
```typescript=



const→リテラル型
let→string型
```
	- オプショナルなプロパティ → あってもなくてもいいプロパティ
	- typeofは便利そうだけど読む人にとってはしんどい場合がありそうなので、普通に型を明示的に書いたほうが良さそう
	- オブジェクトのキーは文字列・ナンバー・Symbol型のどれか

- @yana-gi 
    - オブジェクト型でコンパイルエラーになる時
        - 定義した型以外の値が入ったとき
        - 宣言されているプロパティを持っていないオブジェクトを代入しようとしたとき
        - 宣言されていないプロパティにアクセスしようとしたとき
    - オブジェクトの宣言
        - オブジェクトの型は名前を付けなくても使える
        - type文は既にある方に別名をつける（🙅‍♂️ 新たに型をつける）
    - type文とinterface
        - type文 （[Type Aliases](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#type-aliases)）  どんな方にも別名をつけられる
        - interface オブジェクト  型名を新規作成する別の方法オブジェクト型だけ
        - どっちを使うかは宗派・好み
        - Type Aliases が存在せずinterface宣言のみ利用可能だった時期があった（2014） 
    - インデックスシグネチャ
        - 罠い
        - 型推論で発生する可能性がある。型安全性が失われるので仕様は避けるべき
    - オプショナルなプロパティの宣言
        - プロパティ名の後ろに`?` をつけるとあってもなくてもいい変数になる
        - `baz?: number;` だったら `number | undefined` のユニオン型になる
        - オプショナルなプロパティはundifinedな可能性があるので、計算を行う場合は条件分岐をしてあげる必要がある
    - 読み取り専用プロパティ
    - typeof
        - 少なくとも分かってないうちはあんまり使う機会がないんだろうなというふわっとした理解

- @SatoshiHaramura
    - オブジェクト型の型注釈は、`{ プロパティ名: 型; }`で付けれる
    - 変数への代入しようとするコンパイル時に、エラーを出す



### 本日の振り返り(よかった点・次回に向けての改善点等)

- @haruguchi
    - 仕様は理解できるけど、やっぱりいつ使うかというのが学習し始めはわからないな。
    - こればかりは書いたり、読んだりをたくさんするしかないか。

- @paru871 
    - 比べるのは適切ではないかもしれないですが、ブルーベリー本を読めば読むほどチェリー本の良さや思いやり(？)を感じる
        - 自分も同じこと思ってました笑

- @Saki
    - 今日はラジオだったので、来週までに皆さんの気づきを参考にさせていただいて、読んできます💪

- @yana-gi 
    - 分かったことを書き出してみると2時間で色々知れたことが実感できる！ 土曜の午前中から有意義な時間になって嬉しい〜

- @mae-da 
	- 輪読会は頭を使うので良いと思いました（yanagiさんと同じ）

- @SatoshiHaramura
    - `:`がたくさん出てきて、まだすんなりコードを読めないです
        - 変数に型注釈を付けるコロン
        - プロパティのコロン


